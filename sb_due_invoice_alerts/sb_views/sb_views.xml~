<odoo>
<data>
    
    <menuitem id="sb_complain_mainmenu" name="Register Complains" parent='sale.sale_menu_root' sequence="2"/>



    <record id="view_account_invoice_filter_inherit_search" model="ir.ui.view">
      <field name="name">account.invoice.search.expand.filter</field>
      <field name="model">account.invoice</field>
      <field name="inherit_id" ref="account.view_account_invoice_filter"/>
      <field name="arch" type="xml">
        <xpath expr="//search" position="inside">
               <field name="complain_id"/>
        </xpath>
      </field>
    </record>



    <record id="res_partner_extended_view" model="ir.ui.view">
      <field name="name">res.partner.form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='category_id']" position="after">
               <field name="complain_id"/>
               <field name="complain_line_id"/>
        </xpath>
        <xpath expr="//notebook" position="inside">
            <page string="Complains">
               <field name="complain_ids">
                    <tree string="Complains List" >
                        <field name="priority"/>
                        <field name="name" />
                        <field name="complain_date"/>
                        <field name="follout_date"/>
                        <field name="complain_type_id"/>
                        <field name="service_id"/>
                        <field name="amount"/>
                        <field name="company_id"/>
                    </tree>
               </field>
            </page>
        </xpath>
      </field>
    </record>



    <record id="sb_sale_complain_search_view" model="ir.ui.view">
        <field name="name">sb.sale_complain.form</field>
        <field name="model">sb.sale_complain</field>
        <field name="arch" type="xml">
            <search string="Sale Complain">
                <field name="name"/>
                <field name="complain_registration"/>
                <field name="complain_date"/>
                <field name="customer_id"/>
                <field name="follout_date"/>
              <separator/>
                <filter name = "very_low" string = "Very Low Priority" domain = "[('priority', '=', '0' )]"/>
                <filter name = "low" string = "Low Priority" domain = "[('priority', '=', '1' )]"/>
                <filter name = "normal" string = "Normal Priority" domain = "[('priority', '=', '2' )]"/>
                <filter name = "high" string = "High Priority" domain = "[('priority', '=', '3' )]"/>
                <filter name = "very_high" string = "Very High Priority" domain = "[('priority', '=', '4' )]"/>

            <separator/>
                <group expand="0" string="Group By">
                    <filter name="groupby_name" string="Name" context="{'group_by':'name'}"
                        help="Group Complains Name Wise"/>
                    <filter name="groupby_complain_date" string="Complain Date" context="{'group_by':'complain_date'}"
                        help="Group Complains complain date Wise"/>
                    <filter name="groupby_customer_id" string="Customer" context="{'group_by':'customer_id'}"
                        help="Group Complains Customer Wise"/>
                    <filter name="groupby_follout_date" string="Fallout Date" context="{'group_by':'follout_date'}"
                        help="Group Complains Fallout Date Wise"/>
                    <filter name="groupby_complain_type_id" string="Type" context="{'group_by':'complain_type_id'}"
                        help="Group Complains Type Wise"/>
                    <filter name="groupby_service_id" string="Service" context="{'group_by':'service_id'}"
                        help="Group Complains Service Wise"/>
                </group>
            </search>
        </field>
    </record>
    
    <record model="ir.ui.view" id="complain_line_kanban">
        <field name="name">sb.complain_line.kanban</field>
        <field name="model">sb.complain_line</field>
        <field name="arch" type="xml">
            <kanban>
              <field name="customer_id"/>
              <field name="product_id"/>
              <field name="sale_id"/>
              <templates>
                <t t-name="kanban-box">
                  <div class="oe_kanban_vignette oe_semantic_html_override">
                    <div class="oe_kanban_details">
                      <h4>
                        <a type="open">
                          <t t-if="record.product_ref.raw_value">[<field name="sale_id"/>]</t> <field name="product_ref"/>
                        </a>
                      </h4>
                      <div name="tags"/>
                      <ul>
                        <t t-if="record.priority.raw_value"><li>Priority: <b><field name="priority" widget="priority"/></b></li></t>
                        <t t-if="record.amc_link_id.raw_value"><li>AMC Ref No: <b><field name="amc_link_id"/></b></li></t>
                        <t t-if="record.product_serial.raw_value"><li>Serial Number: <b><field name="product_serial"/></b></li></t>
                        <t t-if="record.complain_type_id.raw_value"><li>Type: <b><field name="complain_type_id"/></b></li></t>
                        <t t-if="record.service_id.raw_value"><li>Service: <b><field name="service_id"/></b></li></t>
                        <t t-if="record.follout_date.raw_value"><li>Fallout Date: <b><field name="follout_date"/></b></li></t>
                        <t t-if="record.assign_id.raw_value"><li>Engineers: <b><field name="assign_id"/></b></li></t>
                      </ul>
                      </div>
                    </div>
                </t>
              </templates>
            </kanban>
        </field>
    </record>
    
    <record id="sb_sale_complain_line_user_action" model="ir.actions.act_window">
            <field name="name">Complain Jobs</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.complain_line</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
           
            <field name="context">{'search_default_groupby_stage_id':1}</field>
            <!-- ,"search_default_today_filter":1 -->
            <field name="view_id" ref="complain_line_kanban"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>

    <!--  Sale Complain  -->
    <record id="sb_sale_complain_from_view" model="ir.ui.view">
        <field name="name">sb.sale_complain.form</field>
        <field name="model">sb.sale_complain</field>
        <field name="arch" type="xml">
            <form string="Sale Complain" >
                <header>
                    <!--  states="quotation,confirmation,repaired,delivery,invoiced,paid,done" -->
                    <!-- button name="set_quotation" string="Reset" 
                        type="object" />
                    <button name="set_diagnosis" string="Move On Diagnosis" 
                        type="object"  class="btn-primary"/>
                    <button name="set_confirmation" string="Confirm" 
                        type="object" class="btn-primary"/>
                    <button name="set_repaired" string="Repair Completed" 
                        type="object" class="btn-primary"/>
                    <button name="set_delivery" string="Mark Delivered" 
                        type="object"/-->
                    <!-- <button name="set_invoiced" string="Produce Invoice"
                        type="object" class="btn-primary"/>
                    <button name="set_paid" string="Mark Paid" 
                        type="object" class="btn-primary"/>
                    <button name="set_done" string="Mark Done"
                        type="object" class="btn-primary"/> -->
                    <field name="stage_id"  widget="statusbar" domain="[('is_main','=','True')]" clickable="True" attrs="{'invisible': [('active', '=', False)]}"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button context="{'search_default_sale_complain_id': active_id}" type="action" name="%(sb_sale_complain.sb_sale_complain_line_user_action)d" class="oe_stat_button" string="Jobs" icon="fa-book"/>
                        <button context="{'search_default_complain_id': active_id,'default_partner_id':customer_id}" type="action" name="%(account.action_invoice_tree1)d" class="oe_stat_button" icon="fa-pencil-square-o">
                            <field string="Invoices" name="total_invoice" widget="statinfo" /><br/>
                            <!-- <field string="Invoice Total Amount" name="invoice_total_amount" widget="statinfo" /> -->
                        <!-- <div class="o_field_widget o_stat_info mr4">
                          <span class="o_stat_text">Total Invoices :</span>
                          <span class="o_stat_text">Invoices Amount:</span>
                        </div>
                        <div class="o_field_widget o_stat_info">
                          <span class="o_stat_value"><field name="total_invoice"/></span>
                          <span class="o_stat_value"><field name="invoice_total_amount"/></span>
                        </div> -->
                        </button>
                      </div>
                    <div >
                      <div class="oe_title">
                          <h1><field name="name" required="1" /></h1>
                      </div>
                    </div>
                    <group col="2">
                     <group>
                        <field name="customer_id" required="1"/>
                        
                        <field name="priority" widget="priority"/>
                        <field name="complain_type_id"/>
                        <field name="service_id"/>
                        <field name="amount" readonly="1"/>
                        <field name="follout_date"/>
                        <field name="active"/>
                        
                    </group>
                     <group>
                        <field name="user_id"/>
                        <field name="complain_date"/>
                        <field name="estimated_days"/>
                        <field name="invoice_total_amount"/>
                        <field name="total_paid_amount"/>
                     </group>
                   </group>
                    <field name="complain_line_ids" context="{'default_follout_date': follout_date, 'default_complain_type_id': complain_type_id, 'default_service_id': service_id, 'default_priority': priority, 'default_customer_id': customer_id,}">
                        <tree string="Complain line" mode="tree">
                            
                            <field name="product_id"/>
                            <field name="product_ref"/>
                            <field name="complain_type_id"/>
                            <field name="service_id"/>
                            <field name="problem" invisible="1"/>
                            <field name="amc_link_id"/>
                            <field name="estimated_days"/>
                            <field name="follout_date"/>
                            <field name="internal_discussion"  invisible="1"/>
                            <field name="departments_id"  invisible="1"/>
                            <field name="priority"  widget="priority"/>
                            <field name="amount"/>
                            <field name="company_id"/>
                            <field name="sale_complain_id" invisible="1"/>
                            <field name="customer_id" invisible="1"/>
                        </tree>
                        <form string="Sale Complain line" >
                            <group colspan='4'>
                            <group col='2' string="Customer Part">
                                    <field name="customer_id" required="1"/>
                                    <field name="customer_address" readonly="1"/>
                                    <field name="amc_link_id"/>
                                    <field name="sale_id"/>
                                    <field name="product_id" 
                                        context="{'no_create': True}"/>
                                    <field name="product_ref"/>
                                    <field name="product_serial"/>
                                    <field name="complain_type_id"/>
                                    <field name="service_id"/>
                                    
                                    <field name="amount"/>
                                    <field name="company_id"/>
                                    <field name="priority" widget="priority"/>
                                    <field name="estimated_days"/>
                                    <field name="follout_date"/>
                                    <field name="sale_complain_id" invisible="1"/>
                                    <field name="problem" placeholder="Customer Problem..."/>
                                    <field name="accessory_remark"/>
                                    
                            </group>
                            <group col='2' string="Internal Operation">
                                <field name="departments_id"/>
                                <field name="assign_id" domain="[('department_id','=',departments_id)]"/>
                                <field name="internal_discussion" placeholder="Internal Discussion..."/>
                            </group>
                            </group>
                        </form>
                    </field>
                    <field name="complain_registration" placeholder="Complain Registration General Remark ..."/>
                </sheet>
                <div class="oe_chatter">
                  <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                  <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="sb_sale_complain_tree_view" model="ir.ui.view">
        <field name="name">sb.sale_complain.tree</field>
        <field name="model">sb.sale_complain</field>
        <field name="arch" type="xml">
            <tree string="Sale Complain">
                <field name="priority" widget="priority" readonly="1"/>
                <field name="name"/>
                <field name="customer_id" required="1"/>
                <field name="complain_date"/>
                <field name="follout_date"/>
                <field name="complain_type_id"/>
                <field name="service_id"/>
                <field name="amount" readonly="1"/>
                <field name="stage_id"/>
            </tree>
        </field>
    </record>


    <record id="sb_sale_complain_action" model="ir.actions.act_window">
            <field name="name">Complains</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.sale_complain</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="sb_sale_complain_tree_view"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>

    <menuitem id="sb_sale_complain_menuitem" name="Complains"  groups="sb_sale_complain.manager_security"  parent='sb_complain_mainmenu' action="sb_sale_complain_action"  sequence="2"/>





    <record id="sb_sale_complain_line_search_view" model="ir.ui.view">
        <field name="name">sb.complain_line.form</field>
        <field name="model">sb.complain_line</field>
        <field name="arch" type="xml">
            <search string="Sale Complain Line">
              <field name="sale_id"/>
              <field name="assign_id"/>
              <field name="today_date"/>
              <field name="is_eng_assigned"/>
              <field name="follout_date"/>
              <field name="customer_id" required="1"/>
              <field name="customer_mobile"/>
              <field name="customer_phone"/>
              <field name="amc_link_id"/>
              <field name="sale_id"/>
              <field name="product_id"/>
              <field name="stage_id"/>
              <field name="product_ref"/>
              <field name="product_serial"/>
              <field name="departments_id"/>
              <field name="sale_complain_id"/>
              <separator/>
                <filter name = "very_low" string = "Very Low Priority" domain = "[('priority', '=', '0' )]"/>
                <filter name = "low" string = "Low Priority" domain = "[('priority', '=', '1' )]"/>
                <filter name = "normal" string = "Normal Priority" domain = "[('priority', '=', '2' )]"/>
                <filter name = "high" string = "High Priority" domain = "[('priority', '=', '3' )]"/>
                <filter name = "very_high" string = "Very High Priority" domain = "[('priority', '=', '4' )]"/>
                <filter name = "assigned_emp_false" string = "Unassigned" domain = "[('assign_id', '=', False )]"/>


                <filter name = "today_filter" string = "Today" domain = "[('follout_date', '&gt;=',context_today().strftime('%m-%d-%Y 00:00:00')), ('follout_date', '&lt;=', context_today().strftime('%m-%d-%Y 23:59:59'))]"/>

                <filter name="tomorrow" string="Tomorrow" domain="[('follout_date', '&gt;=', (context_today()+relativedelta(days=1)).strftime('%m-%d-%Y 00:00:00')), ('follout_date', '&lt;=', (context_today()+relativedelta(days=1)).strftime('%m-%d-%Y 23:59:59'))]"/>

                <filter name="this_week" string="This Week" domain="[('follout_date', '&gt;=', context_today().strftime('%m-%d-%Y 00:00:00')), ('follout_date', '&lt;=', (context_today()+relativedelta(days=7)).strftime('%m-%d-%Y 23:59:59'))]"/>

                <filter name="this_month" string="This Month" domain="[('follout_date', '&gt;=', context_today().strftime('%m-%d-%Y 00:00:00')), ('follout_date', '&lt;=', (context_today()+relativedelta(days=30)).strftime('%m-%d-%Y 23:59:59'))]"/>

            <separator/>
                <group expand="0" string="Group By">
                    <filter name="groupby_product_ref" string="Product Description" context="{'group_by':'product_ref'}"
                        help="Group Complain Lines Product Description Wise"/>
                    <filter name="groupby_customer_id" string="Customer" context="{'group_by':'customer_id'}"
                        help="Group Complain Lines Customer Wise"/>
                    <filter name="groupby_product_id" string="Product" context="{'group_by':'product_id'}"
                        help="Group Complain Lines Product Wise"/>
                    <filter name="groupby_sale_id" string="AMC Link (SO. Ref.)" context="{'group_by':'sale_id'}"
                        help="Group Complain Lines AMC Link (SO. Ref.) Wise"/>
                    <filter name="groupby_amc_link_id" string="AMC Ref No." context="{'group_by':'amc_link_id'}"
                        help="Group Complain Lines AMC Ref No. Wise"/>
                    <filter name="groupby_complain_type_id" string="Type" context="{'group_by':'complain_type_id'}"
                        help="Group Complain Lines Type Wise"/>
                    <filter name="groupby_service_id" string="Service" context="{'group_by':'service_id'}"
                        help="Group Complain Lines Service Wise"/>
                    <filter name="groupby_departments_id" string="Departments" context="{'group_by':'departments_id'}"
                        help="Group Complain Lines Departments Wise"/>
                    <filter name="groupby_assign_id" string="Engineers" context="{'group_by':'assign_id'}"
                        help="Group Complain Lines Engineers Wise"/>
                    <filter name="groupby_follout_date" string="Fallout Date" context="{'group_by':'follout_date'}"
                        help="Group Complain Lines Fallout Date Wise"/>
                    <filter name="groupby_sale_complain_id" string="Sale Complain" context="{'group_by':'sale_complain_id'}"
                        help="Group Complain Lines Sale Complain Wise"/>
                    <filter name="groupby_stage_id" string="Status" context="{'group_by':'stage_id'}"
                        help="Group Complain Lines status Wise"/>    

                </group>
            </search>
        </field>
    </record>
    
    

    <!--  Sale Complain Line -->
    <record id="sb_complain_line_from_view" model="ir.ui.view">
        <field name="name">sb_complain_line_form</field>
        <field name="model">sb.complain_line</field>
        <field name="arch" type="xml">
            <form string="Sale Complain line"  create="false">
                <field name="sb_start_job" invisible="1"/>
                <header>
                    <button name="start_job" string="Start Job" type="object" attrs="{'invisible': [('sb_start_job', '=', True)]}" class="btn-primary"/>
                    <button name="stop_job" string="Stop Job" type="object" attrs="{'invisible': [('sb_start_job', '=', False)]}" class="btn-primary"/>
                    <field name="stage_id" domain="[('is_job','=','True')]" widget="statusbar" clickable="True" />
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                    
                    <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                        <field name="active" widget="boolean_button" options="{&quot;terminology&quot;: &quot;archive&quot;}"/>
                    </button>
                
                    <button context="{'search_default_partner_id': customer_id,'default_partner_id': customer_id, 'default_complain_id':sale_complain_id, 'search_default_complain_id':sale_complain_id}" type="action" name="%(account.action_invoice_tree1)d" class="oe_stat_button" string="Invoices" icon="fa-book"/></div>
                  <group colspan='4'>
                            <group col='2' string="Customer Part">
                              <field name="customer_id"/>
                              <field name="customer_address" readonly="1" />
                              <field name="customer_mobile"/>
                              <field name="customer_phone"/>
                              <field name="amc_link_id"/>
                              <field name="sale_id"/>
                              <field name="product_id" 
                                  context="{'no_create': True}"/>
                              <field name="product_ref"/>
                              <field name="product_serial"/>
                              <field name="complain_type_id"/>
                              <field name="service_id"/>
                              
                              <field name="amount"/>
                              <field name="company_id"/>
                              <field name="priority" widget="priority"/>
                              <field name="estimated_days"/>
                              <field name="follout_date"/>
                              <field name="sale_complain_id" invisible="1"/>
                              <field name="problem" placeholder="Customer Problem..."/>
                              <field name="accessory_remark"/>
                              <field name="customer_id" invisible="1"/>
                            </group>
                            <group col='2' string="Internal Operation">
                                <field name="departments_id"/>
                                <field name="assign_id" domain="['|',('department_id','=',departments_id),('department_id','=','False')]"/>
                                <field name="internal_discussion" placeholder="Internal Discussion..."/>
                                <!-- <field name="today_date"/> -->
                                <!-- <field name="is_eng_assigned"/> -->
                            </group>
                            </group>


<!--                      <group col='4'>
                            <field name="amc_link_id"/>
                            <field name="sale_id"/>
                            <field name="product_id" />
                            <field name="service_id"/>
                            <field name="remark"/>
                            <field name="internal_discussion"/>
                            <field name="departments_id"/>
                            <field name="priority" widget="priority"/>
                            <field name="follout_date"/>
                            <field name="sale_complain_id"/>
                            <field name="amount" invisible="1"/>
                    </group> -->
                </sheet>
                <div class="oe_chatter">
                  <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                  <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="sb_complain_line_tree_view" model="ir.ui.view">
        <field name="name">sb_complain_line_tree</field>
        <field name="model">sb.complain_line</field>
        <field name="arch" type="xml">
            <tree string="Sale Complain line" create="false">
                <field name="priority" widget="priority" readonly="1"/>
                <field name="product_ref"/>
                <field name="complain_type_id"/>
                <field name="service_id"/>
                <field name="amount"/>
                <field name="company_id"/>
                <field name="amc_link_id"/>
                <field name="estimated_days"/>
                <field name="follout_date"/>
                <field name="internal_discussion"  invisible="1"/>
                <field name="departments_id"  invisible="1"/>
                <field name="sale_complain_id" invisible="1"/>
                <field name="customer_id" />
                <field name="stage_id" />
                <!-- <field name="current_user_id"/> -->
            </tree>
        </field>
    </record>


    




    


<!--
    <menuitem id="sb_sale_complain_line_user_menuitem" name="My Complain Jobs" groups="sb_sale_complain.user_security" parent="sb_complain_mainmenu"  action="sb_sale_complain_line_user_action" sequence="3"/> -->
    

   

    <!-- <menuitem id="sb_sale_complain_line_user_menuitem" name="My Complain Jobs"  parent="sb_complain_mainmenu"  action="sb_sale_complain_line_user_action" sequence="3"/>     -->

  

    <record id="sb_sale_complain_line_manager_action" model="ir.actions.act_window">
            <field name="name">Jobs</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.complain_line</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_assigned_emp_false':1}</field>
            <!-- <field name="context">{'search_default_assigned_emp_false':1}</field> -->
            <!-- ,"search_default_today_filter":1 -->
            <field name="view_id" ref="complain_line_kanban"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>
    <record id="sb_sale_complain_line_department_action" model="ir.actions.act_window">
            <field name="name">Departments</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.complain_line</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_groupby_departments_id':1}</field>
            <!-- <field name="context">{'search_default_groupby_departments_id':1}</field> -->
            <!-- <field name="context">{}</field> -->
            <!-- ,"search_default_today_filter":1 -->
            <field name="view_id" ref="complain_line_kanban"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>
    <record id="sb_sale_complain_line_engineer_action" model="ir.actions.act_window">
            <field name="name">Engineers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.complain_line</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_groupby_assign_id':1}</field>
            <!-- <field name="context">{'search_default_groupby_assign_id':1    }</field> -->
            <!-- ,"search_default_today_filter":1 -->
            <field name="view_id" ref="complain_line_kanban"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>
    <record id="sb_sale_complain_line_status_action" model="ir.actions.act_window">
            <field name="name">Status</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.complain_line</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_groupby_stage_id':1}</field>
            <!-- <field name="context">{'search_default_groupby_stage_id':1    }</field> -->
            <!-- ,"search_default_today_filter":1 -->
            <field name="view_id" ref="complain_line_kanban"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>
    
  
     

<!--
    <menuitem id="sb_sale_complain_line_manager_menuitem" name="Jobs"  groups="sb_sale_complain.manager_security" parent="sb_complain_mainmenu"  action="sb_sale_complain_line_manager_action" sequence="2"/> -->

    <!-- <menuitem id="sb_sale_complain_line_manager_menuitem" name="Complain Jobs"  parent="sb_complain_mainmenu"  action="sb_sale_complain_line_manager_action" sequence="2"/> -->







    <!--  sb.sale_contract -->
    <record id="sb_sale_contract_from_view" model="ir.ui.view">
        <field name="name">sb_sale_contract_form</field>
        <field name="model">sb.sale_contract</field>
        <field name="arch" type="xml">
            <form string="Sale Complain line" >
                <header>
                </header>
                <sheet>

                    <group col='2'>
                        <field name="name" string = 'Name'/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="sb_sale_contract_tree_view" model="ir.ui.view">
        <field name="name">sb_sale_contract_tree</field>
        <field name="model">sb.sale_contract</field>
        <field name="arch" type="xml">
            <tree string="Sale Complain Contract">
                <field name="name"/>
            </tree>
        </field>
    </record>


    <record id="sb_sale_contract_action" model="ir.actions.act_window">
            <field name="name">Contract</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.sale_contract</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="sb_sale_contract_tree_view"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>

    <!-- <menuitem id="sb_sale_contract_menuitem" name="Contract"  parent="sb_complain_mainmenu"  action="sb_sale_contract_action" sequence="3"/> -->


    <!--  sb_sale_complain_service -->
    <record id="sb_sale_complain_service_from_view" model="ir.ui.view">
        <field name="name">sb_sale_complain_service.form</field>
        <field name="model">sb.sale_complain_service</field>
        <field name="arch" type="xml">
            <form string="Sale Complain line" >
                <header>
                </header>
                <sheet>
                     
                    <group col='2'>
                        <field name="name" string = 'Name'/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="sb_sale_complain_service_tree_view" model="ir.ui.view">
        <field name="name">sb_sale_complain_service.tree</field>
        <field name="model">sb.sale_complain_service</field>
        <field name="arch" type="xml">
            <tree string="Sale Complain Contract">
                <field name="name"/>
            </tree>
        </field>
    </record>


    <record id="sb_sale_complain_service_line_action" model="ir.actions.act_window">
            <field name="name">Service</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.sale_complain_service</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="sb_sale_complain_service_tree_view"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>

    <menuitem id="sb_sale_complain_service_menuitem" name="Service"  groups="sb_sale_complain.manager_security"  parent="sb_complain_mainmenu"  action="sb_sale_complain_service_line_action" sequence="5"/>




       <!--  sb_sale_complain_type -->
    <record id="sb_sale_complain_type_from_view" model="ir.ui.view">
        <field name="name">sb_sale_complain_type.form</field>
        <field name="model">sb.sale_complain_type</field>
        <field name="arch" type="xml">
            <form string="Sale Complain line" >
                <header>
                </header>
                <sheet>
                    
                    <group col='2'>
                        <field name="name" string = 'Name'/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="sb_sale_complain_type_tree_view" model="ir.ui.view">
        <field name="name">sb_sale_complain_type.tree</field>
        <field name="model">sb.sale_complain_type</field>
        <field name="arch" type="xml">
            <tree string="Sale Complain Contract">
                <field name="name"/>
            </tree>
        </field>
    </record>


    <record id="sb_sale_complain_type_line_action" model="ir.actions.act_window">
            <field name="name">Service</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.sale_complain_type</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="sb_sale_complain_type_tree_view"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>

    <menuitem id="sb_sale_complain_type_menuitem" name="Type"  groups="sb_sale_complain.manager_security" parent="sb_complain_mainmenu"  action="sb_sale_complain_type_line_action" sequence="6"/>

   <!--  sb_sale_complain_state -->
  
    
    <record id="sb_sale_complain_state_from_view" model="ir.ui.view">
        <field name="name">sb_sale_complain_state_form</field>
        <field name="model">sb.sale_complain_state</field>
        <field name="arch" type="xml">
            <form string="Sale Complain line" >
                <header>
                </header>
                <sheet>
                    <group col='4'>
                        <field name="name" string = 'Name'/>
                        <field name="is_default"/>
                        <field name="is_main"/>
                        <field name="is_job"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="sb_sale_complain_state_tree_view" model="ir.ui.view">
        <field name="name">sb_sale_complain_state_tree</field>
        <field name="model">sb.sale_complain_state</field>
        <field name="arch" type="xml">
            <tree string="Status">
                <field name="sequence" widget="handle"/>
                <field name="name" string="Status Title"/>
                <field name="is_default"/>
                <field name="is_main"/>
                <field name="is_job"/>
            </tree>
        </field>
    </record>

    <record id="sb_sale_complain_state_line_action" model="ir.actions.act_window">
            <field name="name">Status</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sb.sale_complain_state</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="sb_sale_complain_state_tree_view"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add New.
              </p>
            </field>
    </record>

    <menuitem id="sb_sale_complain_state_menuitem" name="Status"  groups="sb_sale_complain.manager_security"  parent="sb_complain_mainmenu"  action="sb_sale_complain_state_line_action" sequence="6"/> 


    <record id="account_invoice_extended_form" model="ir.ui.view">
      <field name="name">account.invoice.form</field>
      <field name="model">account.invoice</field>
      <field name="inherit_id" ref="account.invoice_form"/>
      <field name="arch" type="xml">
        <data>
          <xpath expr="//field[@name='fiscal_position_id']" position="after">
            <field name="complain_id"/>
          </xpath>
        </data>
      </field>
    </record>
    
    
<!--
     <menuitem id="sb_eng_stock_menu" name="Engineer Stock"  parent='sb_complain_mainmenu' action="sb_sale_eng_allocate.sb_eng_allocate_action" sequence="4"/> -->
    
    
      <menuitem id="sb_complain_jobmenu" name="Jobs" parent='sale.sale_menu_root' sequence="3"/>
    
     <menuitem id="sb_sale_complain_line_manager_menuitem" name="Unassigned Jobs"  groups="sb_sale_complain.manager_security" parent="sb_complain_jobmenu"  action="sb_sale_complain_line_manager_action" sequence="2"/> 
     
      <menuitem id="sb_sale_complain_line_user_menuitem" name="My Jobs" groups="sb_sale_complain.user_security" parent="sb_complain_jobmenu"  action="sb_sale_complain_line_user_action" sequence="3"/>
     
     <menuitem id="sb_sale_complain_line_status_menuitem" name="Jobs by Status"  groups="sb_sale_complain.manager_security" parent="sb_complain_jobmenu"  action="sb_sale_complain_line_status_action" sequence="4"/> 
    
     <menuitem id="sb_sale_complain_line_engineer_menuitem" name="Jobs by Engineer"  groups="sb_sale_complain.manager_security" parent="sb_complain_jobmenu"  action="sb_sale_complain_line_engineer_action" sequence="5"/> 
    
     <menuitem id="sb_complain_department_menuitem" name="Jobs by Department"  parent='sb_complain_jobmenu' groups="sb_sale_complain.manager_security" action="sb_sale_complain_line_department_action" sequence="6"/>
    
    
</data>
</odoo>
